(()=>{"use strict";const t=async function(){try{console.log("loading");const t=await fetch("city.list.json",{mode:"cors"});return await t.json()}catch(t){console.log(t)}}();const e=document.querySelector("#submit-button"),n=document.querySelector("#city-name"),a=document.querySelector("#display");function c(){for(;a.firstChild;)a.firstChild.remove()}async function o(t){c();try{(await async function(t){try{const e=`lat=${t.coord.lat}&lon=${t.coord.lon}&exclude=minutely,hourly&units=imperial`,n=await fetch(`https://api.openweathermap.org/data/2.5/onecall?${e}&appid=056fbaeb5e0ac21a223f3af28f256fc7`,{mode:"cors"});return(await n.json()).daily.map((t=>{return{weatherDescription:(e=t).weather[0].main,clouds:e.clouds,humidity:e.humidity,rain:e.rain,maxTemp:Math.round(parseFloat(e.temp.max)),minTemp:Math.round(parseFloat(e.temp.min))};var e}))}catch(t){console.log(t)}}(t)).forEach((t=>{const e=function(t){const e=document.createElement("div");e.classList.add("weather-data-display");const n=document.createElement("div");n.classList.add("weekday"),n.textContent="Day",e.appendChild(n);const a=document.createElement("img");a.src=(t.weatherDescription,""),e.appendChild(a);const c=document.createElement("div");c.classList.add("temperature-container");const o=document.createElement("div");o.textContent=`Max ${t.maxTemp}`,o.classList.add("temperature"),c.appendChild(o);const i=document.createElement("div");return i.textContent=`Min ${t.minTemp}`,i.classList.add("temperature"),c.appendChild(i),e.appendChild(c),e}(t);a.appendChild(e)}))}catch(t){console.log(t)}}e.addEventListener("click",(()=>{n.checkValidity()&&async function(e){c();const n=await async function(e){const n=e.toLowerCase().trim();try{return(await t).filter((t=>t.name.toLowerCase()===n))}catch(t){console.log(t)}}(e);0===n.length?function(t){const e=document.createElement("div");e.classList.add("error-message"),e.textContent="No cities found!",a.appendChild(e)}():1===n.length?o(n[0]):n.forEach((t=>{const e=function(t){const e=document.createElement("div");e.classList.add("city-data-display");const n=document.createElement("div");if(n.textContent=t.name,e.appendChild(n),t.hasOwnProperty("state")){const n=document.createElement("div");n.textContent=t.state,e.appendChild(n)}if(t.hasOwnProperty("country")){const n=document.createElement("div");n.textContent=t.country,e.appendChild(n)}return e}(t);a.appendChild(e),e.addEventListener("click",(()=>{o(t)}))}))}(n.value)}))})();